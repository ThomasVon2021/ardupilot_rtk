# GRTK 常用配置命令

!!! warning "非专业人士请在技术人员指导下配置，对由于错误配置导致设备失效损坏，恕概不负责"
    * 对GRTK的常用配置指令进行总结和示例，以方便客户可以根据自己的需求对GRTK实现定制化配置

## NMEA语句配置

## Config指令

Config指令主要用于对GRTK外设（串口、天线等）属性，RTK等特性进行配置。

??? note "**命令格式为：**"
    - CONFIG [设备/功能名称] [参数]

| 序号  | 设备/功能 | 功能                               |
|-----|-------|----------------------------------|
| 1   | COM1  | COM1 串口，与 COM1 相关的配置，如波特率，奇偶校验比特 |
| 2   | COM2  | COM2 串口，与 COM2 相关的配置，如波特率，奇偶校验比特 |
| 3   | COM3  | COM3 串口，与 COM3 相关的配置，如波特率，奇偶校验比特 |
| 4   | RTK   | 配置 RTK 参数，如设置模式，差分有效时间 |
| 5   | DGPS  | 配置 DGPS 参数，如 DGPS 差分有效时间 |

### 配置查询

??? note "**命令格式为：**"
    - CONFIG

**消息输出示例：**

>$CONFIG,COM1,CONFIG COM1 460800*65
>$CONFIG,COM2,CONFIG COM2 115200*23
>$CONFIG,COM3,CONFIG COM3 115200*23
>$CONFIG,PPS,CONFIG PPS ENABLE GPS POSITIVE 500000 1000 0 0*6E
>$CONFIG,INS,CONFIG INS DISABLE*70
>$CONFIG,INS,CONFIG INS ANGLE 0,0,0*75
>$CONFIG,INS,CONFIG INS ALIGNMENTVEL 5.0*2F
>$CONFIG,INS,CONFIG INS TIMEOUT 200*6D

### 串口配置

??? note "**命令格式为：**"
    - CONFIG [串口设备号] [串口属性参数]

**命令示例**

```html
CONFIG COM1 115200
CONFIG COM1 115200 8 n 1
```

**串口支持的波特率**

| 串口   |波特率|
|------|---------------|
| COM1 |9600, 19200, 38400, 57600, 115200, 230400, 460800，921600|
| COM2 |9600, 19200, 38400, 57600, 115200, 230400, 460800，921600|
| COM3 |9600, 19200, 38400, 57600, 115200, 230400, 460800，921600|

**串口参数详解**

| 参数 | 描述                                                       |
|--|----------------------------------------------------------|
| 波特率 | 设置串口的波特率。 |
| 数据位 | 设置串口的数据位；若要设置串口的数据位，须确保前面的波特率不能为空。注: 数据传输中支持的数据位：7 或 8，目前产品仅支持 8 位。 |
| 奇偶校验 | 设置串口的奇偶校验；若要设置串口奇偶校验，须确保前面的参数不能为空。注：数据传输中支持的奇偶校验：N,E,O。目前产品仅支持 N。 |
| 停止位 | 设置串口的停止位；若要设置串口停止位，须确保前面的参数不能为空。注：数据传输中支持的停止位：1 或 2。目前产品仅支持 1 位。 |

### 双天线heading航向及俯仰改正值配置

??? note "**命令格式为：**"
    - CONFIG HEADING OFFSET [Headingoffset Pitchoffset]

**命令示例**

```html
CONFIG HEADING OFFSET 90 45
```

**Heading参数详解**

| 参数 | 描述                                                       |
|--|----------------------------------------------------------|
| Headingoffset | 航向角改正值，deg. 取值范围：-180.0 ~180.0 |
| Pitchoffset | 俯仰角改正值，deg. 取值范围：-90.0 ~ 90.0 |

### RTK参数配置

??? note "**命令格式为：**"
    - CONFIG RTK [参数]

**命令示例**

```html
CONFIG RTK TIMEOUT 60
```

| 参数 | 描述                                                       |
|--|----------------------------------------------------------|
|TIMEOUT | 0: 关闭 RTK 功能<br> 1-1800: 数据最大龄期（默认值=100），秒为单位。|
| RESET | 重置 RTK 解算 |
| USER_DEFAULTS | RTK 动态模式，默认状态 |
| DISABLE | 不计算 RTK 结果，包括浮点解和固定解 |

## Mode指令